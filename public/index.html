
<html>
    <head>
        <script src='/diy3d/game/lib/jquery.js'></script>
        <script src='/diy3d/game/lib/underscore-min.js'></script>
		    <script src='/diy3d/game/lib/keydrown.js'></script>
		    <script src='/diy3d/game/lib/array_includes_polyfill.js'></script>
        <script src='/diy3d/game/lib/pathfinding-browser.min.js'></script>
        <script src='/diy3d/game/lib/babylon.custom.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js'></script>
        <script src='/diy3d/game/lib/babylon.fireMaterial.min.js'></script>
        <style>
        body{
          margin: 0;
          padding:0;
        }
            #gameCanvas{
              position: absolute;
              top:0;
              left:0;
                width:100%;
                height:100%;
            }
            #zone_possessions{
              display:none;
            }
            #zone_health{
             display:none;
            }
            #zone_hud{
              position: absolute;
                top:0px;
                right:0px;
                width:250px;
                height:250px;
            }

			     #zone_joystick{
                position: absolute !important;
                bottom:10px;
                right:10px;
                width:200px;
                height:200px;
                background: rgba(200,10,10,0.2);
                z-index: 4;
            }
            p.pos, p.dir{
                font-size:smaller;
                padding:0;
                margin:0;
            }
            .possession{
                width: 80px;
                height: 80px;
                border:1px solid #222;
            }
            .possessionInner{
                width: 76px;
                height: 76px;
                position: absolute;
                top:2px;
                left:2px;
                background: rgba(50, 50, 50, 0.4);
                border:1px solid #222;
            }
            .possessionInner img{
                width: 64px;
                height: 64px;
                top: 2px;
                position: absolute;
                left: 2px;
            }
            .possessionInner span{
                position: absolute;
                bottom: 0;
                right: 0;
                font-family: Arial;
                font-size: 9px;
            }
            .reg{
              width: 250px;
              height: 30px;
              background-image: repeating-linear-gradient(-45deg, rgb(70, 70, 70), rgb(70, 70, 70) 15px, rgb(160, 160, 160) 15px, rgb(160, 160, 160) 30px) !important;
              -webkit-animation:progress 2s linear infinite;
              -moz-animation:progress 2s linear infinite;
              -ms-animation:progress 2s linear infinite;
              animation:progress 2s linear infinite;
              background-color:transparent !important;
              background-size: 150% 100%;
            }

            @-webkit-keyframes progress{
              0% {
                background-position: 0 0;
              }
              100% {
                background-position: -75px 0px;
              }
            }
            @-moz-keyframes progress{
              0% {
                background-position: 0 0;
              }
              100% {
                background-position: -75px 0px;
              }
            }
            @-ms-keyframes progress{
              0% {
                background-position: 0 0;
              }
              100% {
                background-position: -75px 0px;
              }
            }
            @keyframes progress{
              0% {
                background-position: 0 0;
              }
              100% {
                background-position: -70px 0px;
              }
            }
        </style>
    </head>
    <body>
      <div class="gamecontainer">
      <canvas id="gameCanvas" width="1024" height="768"></canvas>
    </div>
      <span style='position: fixed;top: 0;left: 0;z-index: 1000;'></span>
        <script data-main="diy3d/game/src/main" src="diy3d/game/lib/require.js"></script>

        <script>
          /*
            var s = "#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\nuniform float degree;\nvoid main(void){\nvec3 color = texture2D(textureSampler, vUV).rgb;\ngl_FragColor = vec4(color.r + degree, color.g, color.b, 1.0);\n}";
             var canvas = document.querySelector("#gameCanvas");
             var engine = new BABYLON.Engine(canvas, true);
             var scene;
             var scene = new BABYLON.Scene(engine);
             BABYLON.Effect.ShadersStore["LinesPixelShader"] = s;
             var camera = new BABYLON.FreeCamera("camera1", new BABYLON.Vector3(0, 5, -10), scene);
             camera.setTarget(BABYLON.Vector3.Zero());
             camera.attachControl(canvas, false);
             var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 1, 0), scene);
             var sphere = BABYLON.Mesh.CreateSphere("sphere1", 16, 2, scene);
             sphere.position.y = 1;
             var postProcess = new BABYLON.PostProcess("damage", "Lines", ["degree"], null, 1, camera, BABYLON.Texture.NEAREST_SAMPLINGMODE, engine, true);
             postProcess.onApply = function (effect) {
                effect.setFloat("degree", 0.75);
             };
             engine.runRenderLoop(function () {
                scene.render();
             });
             window.addEventListener("resize", function () {
                engine.resize();
             });
          */
        </script>

    </body>
</html>

